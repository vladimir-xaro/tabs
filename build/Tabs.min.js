!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("Tabs",[],i):"object"==typeof exports?exports.Tabs=i():t.Tabs=i()}(self,(function(){return(()=>{"use strict";var t={471:(t,i,s)=>{s.d(i,{default:()=>u});const e=class{constructor(t={}){this.events={};for(let i in t)t[i]&&this.subscribe(i,t[i])}subscribe(t,i){this.has(t)||(this.events[t]=[]);let s=[];if(Array.isArray(i))for(const e of i)s.push(...this.subscribe(t,e));else this.events[t].push(i),s.push((()=>this.removeListener(t,i)));return s}unsubscribe(...t){for(const i of t)this.events[i]&&delete this.events[i]}removeListener(t,i){if(Array.isArray(this.events[t])){const s=this.events[t].indexOf(i);s>-1&&this.events[t].splice(s,1)}}once(t,i){const s=this.subscribe(t,(()=>{if(s[0](),Array.isArray(i))for(const t of i)t();else i()}))}has(t){return!!this.events[t]}listenerCount(t){return!!this.events.hasOwnProperty(t)&&this.events[t].length}emit(t,...i){const s=this.events[t];if(s)for(let t of s)t(...i)}validateEmit(t,...i){const s=this.events[t];if(!s)return!1;for(const t of s)if(!t(...i))return!1;return!0}seriesEmit(t,...i){const s=this.events[t];if(!s)return;let e;for(let t=0;t<s.length;t++)e=0===t?s[t](...i):s[t](e);return e}};function n(...t){const i=Object(t[0]);for(let s=1;s<t.length;s+=1){const e=t[s];if(null!=e){const t=Object.keys(Object(e));for(let s=0,o=t.length;s<o;s+=1){const o=t[s],r=Object.getOwnPropertyDescriptor(e,o);void 0!==r&&r.enumerable&&(a(i[o])&&a(e[o])?n(i[o],e[o]):!a(i[o])&&a(e[o])?(i[o]={},n(i[o],e[o])):i[o]=e[o])}}}return i}function a(t){return"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object}const o={animationstart:"__mutationStartListener",animationcancel:"__mutationCancelListener",animationend:"__mutationEndListener",animationiteration:"__mutationIterationListener",transitionstart:"__mutationStartListener",transitioncancel:"__mutationCancelListener",transitionend:"__mutationEndListener",transitionrun:"__mutationRunListener"},r=Object.keys(o);function c(t,i){"string"==typeof i?t.push(...document.querySelectorAll(i)):i instanceof Element&&t.push(i)}const h=class{constructor(t){if(this.els=[],this.emitter=new e(t.on),Array.isArray(t.el))for(const i of t.el)c(this.els,i);else c(this.els,t.el);t.allow?this.allow=(Array.isArray(t.allow)?t.allow:[t.allow]).filter((t=>r.includes(t))):t.disallow?this.allow=(Array.isArray(t.disallow)?t.disallow:[t.disallow]).filter((t=>r.includes(t))):this.allow=r;for(const t in o)this[o[t]]=this[o[t]].bind(this);for(const t of this.els)for(const i of this.allow)t.addEventListener(i,this[o[i]])}__mutationStartListener(t){this.emitter.emit("start",this,t)}__mutationCancelListener(t){this.emitter.emit("cancel",this,t)}__mutationEndListener(t){this.emitter.emit("end",this,t)}__mutationIterationListener(t){this.emitter.emit("iteration",this,t)}__mutationRunListener(t){this.emitter.emit("run",this,t)}addEvent(t){if(this.allow.includes(t))for(const i of this.els)i.addEventListener(t,this[o[t]])}removeEvent(t){if(this.allow.includes(t))for(const i of this.els)i.removeEventListener(t,this[o[t]])}addClass(...t){for(const i of this.els)i.classList.add(...t);return this.els}removeClass(...t){for(const i of this.els)i.classList.remove(...t);return this.els}css(t){for(const i of this.els)for(const s in t)i.style[s]=t[s];return this.els}on(t,i){this.emitter.subscribe(t,i)}};class l{constructor(t){this.pending=!1,this.config=t,this.emitter=new e({...this.config.on}),!1!==this.config.tabs.config.mutation&&(this.animation=new h({el:this.config.el,allow:[this.config.tabs.config.mutation+"end"],on:{end:[this.__mutationEndCallback.bind(this)]}}))}__mutationEndCallback(t){this.pending=!1,this.emitter.emit("internalMutationEnd",t),this.config.tabs.currentPendingTab=void 0,this.emitter.emit("mutationEnd",t)}hide(t){const i=this.config.tabs.config.classes,s=this.config.tabs.config.mutation;this.pending=!0,this.config.tabs.currentPendingTab=t&&!1!==t.animated?this:void 0,!1===s?this.config.el.classList.remove(i.activeTab):(t&&!1===t.animated&&(this.config.tabs.currentPendingTab=void 0,this.animation.addClass(i[s].cancel)),this.animation.removeClass(i[s].hide,i[s].show),t&&t.after?(this.emitter.once("internalMutationEnd",(()=>{this.animation.removeClass(i.activeTab),this.config.visible=!1})),this.emitter.once("mutationEnd",(()=>{t.after()})),this.animation.addClass(i[s].hide)):this.animation.removeClass(i.activeTab),t&&!1===t.animated&&this.animation.removeClass(i[s].cancel))}show(t){const i=this.config.tabs.config.classes,s=this.config.tabs.config.mutation;this.pending=!0,this.config.tabs.currentPendingTab=this,!1===s?this.config.el.classList.add(i.activeTab):(t&&!1===t.animated&&this.animation.addClass(i[s].cancel),this.animation.removeClass(i[s].hide,i[s].show),t&&t.after&&this.emitter.once("mutationEnd",(()=>{t.after()})),this.animation.addClass(i.activeTab,i[s].show),this.config.visible=!0,t&&!1===t.animated&&this.animation.removeClass(i[s].show,i[s].cancel))}}const f={el:null,classes:{navs:"tabs__navs",nav:"tabs__nav",tabs:"tabs__tabs",tab:"tabs__tab",activeTab:"tabs__tab--active",activeNav:"tabs__nav--active",animation:{cancel:"tabs__tab--animation-cancel",hide:"tabs__tab--animation-hide",show:"tabs__tab--animation-show"},transition:{cancel:"tabs__tab--transition-cancel",hide:"tabs__tab--transition-hide",show:"tabs__tab--transition-show"},wrapper:{animation:"tabs--animation",transition:"tabs--transition",false:"tabs--without-animation"}},current:void 0,mutation:void 0};class m{constructor(t){this.config=t,this.clickListener=this.clickListener.bind(this),this.config.el.addEventListener("click",this.clickListener)}clickListener(t){this.config.tabs.changeTab(this.config.tab.config.idx)}disactivate(){this.config.el.classList.remove(this.config.tabs.config.classes.activeNav)}activate(){this.config.el.classList.add(this.config.tabs.config.classes.activeNav)}}const u=class{constructor(t){this.items=[],this.currentPendingTab=void 0,this.config=n({},f,t),this.emitter=new e({...this.config.on}),this.config.mutation=void 0===this.config.mutation?"animation":this.config.mutation,this.config.el.classList.add(this.config.classes.wrapper[new String(this.config.mutation).toString()]);const i=this.config.el.querySelectorAll("."+this.config.classes.nav),s=this.config.el.querySelectorAll("."+this.config.classes.tab);for(let t=0;t<s.length;t++){void 0===this.config.current&&(s[t].classList.contains(this.config.classes.activeTab)||i[t].classList.contains(this.config.classes.activeNav))&&(this.config.current=t);const e=new l({el:s[t],tabs:this,idx:t}),n=new m({tabs:this,el:i[t],tab:e});e.config.nav=n,this.items.push(e)}this.config.current||(this.config.current=0),this.fixClasses(),this.emitter.emit("init",this)}fixClasses(){for(const t of this.items)t.config.idx===this.config.current?(t.show({animated:!1}),t.config.nav?.config.el.classList.add(this.config.classes.activeNav)):(t.hide({animated:!1}),t.config.nav?.config.el.classList.remove(this.config.classes.activeNav))}changeTab(t){if(!this.items[t])return;const i=this.config.current,s=t;if(i===s)return;const e=this.items[i],n=this.items[s];if(this.emitter.emit("beforeChange",this,i,s),!1===this.config.mutation)e.hide(),n.show();else if(this.currentPendingTab){const t=this.currentPendingTab;t.emitter.unsubscribe("mutationEnd"),t.emitter.once("mutationEnd",(()=>{t.config.visible?t.hide({after:()=>{n.show({after:()=>this.emitter.emit("afterChange",this,i,s)})}}):n.show({after:()=>this.emitter.emit("afterChange",this,i,s)})}))}else e.hide({after:()=>{n.show({after:()=>this.emitter.emit("afterChange",this,i,s)})}});e.config.nav?.disactivate(),n.config.nav?.activate(),this.config.current=s}}}},i={};function s(e){if(i[e])return i[e].exports;var n=i[e]={exports:{}};return t[e](n,n.exports,s),n.exports}return s.d=(t,i)=>{for(var e in i)s.o(i,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},s.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),s(471)})().default}));
//# sourceMappingURL=Tabs.min.js.map