!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Tabs",[],e):"object"==typeof exports?exports.Tabs=e():t.Tabs=e()}(self,(function(){return(()=>{"use strict";var t={192:(t,e,i)=>{i.d(e,{default:()=>v});const s=class{constructor(t={}){this.events={};for(let e in t)t[e]&&this.subscribe(e,t[e])}subscribe(t,e){this.has(t)||(this.events[t]=[]);let i=[];if(Array.isArray(e))for(const s of e)i.push(...this.subscribe(t,s));else this.events[t].push(e),i.push((()=>this.removeListener(t,e)));return i}unsubscribe(...t){for(const e of t)this.events[e]&&delete this.events[e]}removeListener(t,e){if(Array.isArray(this.events[t])){const i=this.events[t].indexOf(e);i>-1&&this.events[t].splice(i,1)}}once(t,e){const i=this.subscribe(t,(()=>{if(i[0](),Array.isArray(e))for(const t of e)t();else e()}))}has(t){return!!this.events[t]}listenerCount(t){return!!this.events.hasOwnProperty(t)&&this.events[t].length}emit(t,...e){const i=this.events[t];if(i)for(let t of i)t(...e)}validateEmit(t,...e){const i=this.events[t];if(!i)return!1;for(const t of i)if(!t(...e))return!1;return!0}seriesEmit(t,...e){const i=this.events[t];if(!i)return;let s;for(let t=0;t<i.length;t++)s=0===t?i[t](...e):i[t](s);return s}};function n(t,...e){const i=[];for(const s of e)if("string"==typeof s){const e=t.querySelectorAll(s);i.push(...e)}else s instanceof Element&&i.push(s);return i}function o(t,...e){for(const i of e)Array.isArray(i)?o(t,...i):t.append(i)}class a extends Array{constructor(...t){super(...t)}get(...t){let e=new a;if(this.length)for(const i of this)e.push(...n(i,...t));else e.push(...n(document,...t));return e}create(...t){let e=new a;for(const i of t)if("string"==typeof i)e.push(document.createElement(i));else if(i instanceof Object){const t=document.createElement(i.tagName||"div");i.content&&(Array.isArray(i.content)?o(t,...i.content):o(t,i.content)),e.push(t)}return e}empty(){for(const t of this)t.innerHTML="";return this}text(t){for(const e of this)e.textContent=t||"";return this}append(...t){for(const e of this)o(e,...t);return this}addClass(...t){for(const e of this)e.classList.add(...t);return this}removeClass(...t){for(const e of this)e.classList.remove(...t);return this}toggleClass(t){for(const e of this)e.classList.toggle(t);return this}hasClass(t,e=!1){if(e){let e=0;for(const i of this)i.classList.contains(t)&&e++;return e===this.length}for(const e of this)if(e.classList.contains(t))return!0;return!1}addEventListener(t,e,i){for(const s of this)s.addEventListener(t,e,i);return this}removeEventListener(t,e,i){for(const s of this)s.removeEventListener(t,e,i);return this}css(t){for(const e of this)for(const i in t)e.style[i]=t[i];return this}attr(t){for(const e of this)for(const i in t)e.setAttribute(i,t[i]);return this}nextTick(...t){const e=t,i=t.shift();return i&&setTimeout((()=>{i(),e.length&&this.nextTick(...e)}),0),this}}const r=function(...t){return t instanceof a?t:new a(...n(document,...t))};function c(...t){const e=Object(t[0]);for(let i=1;i<t.length;i+=1){const s=t[i];if(null!=s){const t=Object.keys(Object(s));for(let i=0,n=t.length;i<n;i+=1){const n=t[i],o=Object.getOwnPropertyDescriptor(s,n);void 0!==o&&o.enumerable&&(h(e[n])&&h(s[n])?c(e[n],s[n]):!h(e[n])&&h(s[n])?(e[n]={},c(e[n],s[n])):e[n]=s[n])}}}return e}function h(t){return"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object}const f={animationstart:"__mutationStartListener",animationcancel:"__mutationCancelListener",animationend:"__mutationEndListener",animationiteration:"__mutationIterationListener",transitionstart:"__mutationStartListener",transitioncancel:"__mutationCancelListener",transitionend:"__mutationEndListener",transitionrun:"__mutationRunListener"},l=Object.keys(f);const u=class{constructor(t){this.emitter=new s(t.on),Array.isArray(t.el)?this.els=r(...t.el):this.els=r(t.el),t.allow?this.allow=(Array.isArray(t.allow)?t.allow:[t.allow]).filter((t=>l.includes(t))):t.disallow?this.allow=(Array.isArray(t.disallow)?t.disallow:[t.disallow]).filter((t=>l.includes(t))):this.allow=l;for(const t in f)this[f[t]]=this[f[t]].bind(this);for(const t of this.els)for(const e of this.allow)t.addEventListener(e,this[f[e]])}__mutationStartListener(t){this.emitter.emit("start",this,t)}__mutationCancelListener(t){this.emitter.emit("cancel",this,t)}__mutationEndListener(t){this.emitter.emit("end",this,t)}__mutationIterationListener(t){this.emitter.emit("iteration",this,t)}__mutationRunListener(t){this.emitter.emit("run",this,t)}addEvent(t){if(this.allow.includes(t))for(const e of this.els)e.addEventListener(t,this[f[t]])}removeEvent(t){if(this.allow.includes(t))for(const e of this.els)e.removeEventListener(t,this[f[t]])}on(t,e){this.emitter.subscribe(t,e)}};class m{constructor(t){this.pending=!1,this.config=t,this.emitter=new s({...this.config.on});const e=this.config.tabs.config;!1!==e.mutation&&(this.animation=new u({el:this.config.el,allow:e.mutation+"end",on:{end:this.__mutationEndCallback.bind(this)}}))}__mutationStartCallback(t){this.pending=!0,this.emitter.emit("__techMutationStart__",t),this.emitter.emit("mutationStart",t)}__mutationEndCallback(t){this.pending=!1,this.emitter.emit("__techMutationEnd__",t),this.config.tabs.currentPendingTab=void 0,this.emitter.emit("mutationEnd",t)}hide(t){const e=this.config.tabs.config.classes,i=this.config.tabs.config.mutation;if(!1===i)this.config.el.removeClass(e.activeTab);else if(t&&!1===t.animated)this.config.el.removeClass(e.activeTab),this.config.visible=!1;else{const s=e[i].leave;this.config.tabs.currentPendingTab=this,t&&t.after&&this.emitter.once("mutationEnd",(()=>{t.after()})),this.emitter.once("__techMutationEnd__",(()=>{this.config.el.removeClass(e.activeTab,s.active,s.from,s.to),this.config.visible=!1})),this.config.el.addClass(s.from,s.active),"animation"===i?this.config.el.addClass(s.to):this.config.el.nextTick((()=>this.config.el.addClass(s.to)))}}show(t){const e=this.config.tabs.config.classes,i=this.config.tabs.config.mutation;if(!1===i)this.config.el.addClass(e.activeTab);else if(t&&!1===t.animated)this.config.el.addClass(e.activeTab),this.config.visible=!0;else{const s=e[i].enter;this.config.tabs.currentPendingTab=this,t&&t.after&&this.emitter.once("mutationEnd",(()=>{t.after()})),this.emitter.once("__techMutationEnd__",(()=>{this.config.el.removeClass(s.active,s.from,s.to)})),this.config.el.addClass(s.from,s.active,e.activeTab),"animation"===i?this.config.el.addClass(s.to):this.config.el.nextTick((()=>this.config.el.addClass(s.to))),this.config.visible=!0}}}const d={el:null,classes:{navs:"tabs__navs",nav:"tabs__nav",tabs:"tabs__tabs",tab:"tabs__tab",activeTab:"tabs__tab--active",activeNav:"tabs__nav--active",animation:{leave:{from:"tabs__tab--animation-leave",active:"tabs__tab--animation-leave-active",to:"tabs__tab--animation-leave-to"},enter:{from:"tabs__tab--animation-enter",active:"tabs__tab--animation-enter-active",to:"tabs__tab--animation-enter-to"}},transition:{leave:{from:"tabs__tab--transition-leave",active:"tabs__tab--transition-leave-active",to:"tabs__tab--transition-leave-to"},enter:{from:"tabs__tab--transition-enter",active:"tabs__tab--transition-enter-active",to:"tabs__tab--transition-enter-to"}}},current:void 0,mutation:void 0};class b{constructor(t){this.config=t,this.config.el.addEventListener("click",this.clickListener.bind(this))}clickListener(t){this.config.tabs.changeTab(this.config.tab.config.idx)}disactivate(){this.config.el.removeClass(this.config.tabs.config.classes.activeNav)}activate(){this.config.el.addClass(this.config.tabs.config.classes.activeNav)}}const v=class{constructor(t){this.items=[],this.currentPendingTab=void 0,this.config=c({},d,t),this.emitter=new s({...this.config.on}),this.config.mutation=void 0===this.config.mutation?"animation":this.config.mutation,this.config.el=t.el instanceof a?this.config.el:r(t.el);const e=this.config.el.get("."+this.config.classes.nav),i=this.config.el.get("."+this.config.classes.tab);for(let t=0;t<i.length;t++){void 0===this.config.current&&(i[t].classList.contains(this.config.classes.activeTab)||e[t].classList.contains(this.config.classes.activeNav))&&(this.config.current=t);const s=new m({el:r(i[t]),tabs:this,idx:t}),n=new b({tabs:this,el:r(e[t]),tab:s});s.config.nav=n,this.items.push(s)}this.config.current||(this.config.current=0),this.fixClasses(),this.emitter.emit("init",this)}fixClasses(){for(const t of this.items)t.config.idx===this.config.current?(t.show({animated:!1}),t.config.nav?.activate()):(t.hide({animated:!1}),t.config.nav?.disactivate())}changeTab(t){if(!this.items[t])return;const e=this.config.current,i=t;if(e===i)return;const s=this.items[e],n=this.items[i];if(this.emitter.emit("beforeChange",this,e,i),!1===this.config.mutation)s.hide(),n.show();else if(this.currentPendingTab){const t=this.currentPendingTab;t.emitter.unsubscribe("mutationEnd"),t.emitter.once("mutationEnd",(()=>{t.config.visible?t.hide({after:()=>{n.show({after:()=>this.emitter.emit("afterChange",this,e,i)})}}):n.show({after:()=>this.emitter.emit("afterChange",this,e,i)})}))}else s.hide({after:()=>{n.show({after:()=>this.emitter.emit("afterChange",this,e,i)})}});s.config.nav?.disactivate(),n.config.nav?.activate(),this.config.current=i}}}},e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}return i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i(192)})().default}));
//# sourceMappingURL=Tabs.min.js.map