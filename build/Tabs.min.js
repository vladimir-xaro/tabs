!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("Tabs",[],i):"object"==typeof exports?exports.Tabs=i():t.Tabs=i()}(self,(function(){return(()=>{"use strict";var t={192:(t,i,e)=>{e.d(i,{default:()=>v});const s=class{constructor(t={}){this.events={};for(let i in t)t[i]&&this.subscribe(i,t[i])}subscribe(t,i){this.has(t)||(this.events[t]=[]);let e=[];if(Array.isArray(i))for(const s of i)e.push(...this.subscribe(t,s));else this.events[t].push(i),e.push((()=>this.removeListener(t,i)));return e}unsubscribe(...t){for(const i of t)this.events[i]&&delete this.events[i]}removeListener(t,i){if(Array.isArray(this.events[t])){const e=this.events[t].indexOf(i);e>-1&&this.events[t].splice(e,1)}}once(t,i){const e=this.subscribe(t,(()=>{if(e[0](),Array.isArray(i))for(const t of i)t();else i()}))}has(t){return!!this.events[t]}listenerCount(t){return!!this.events.hasOwnProperty(t)&&this.events[t].length}emit(t,...i){const e=this.events[t];if(e)for(let t of e)t(...i)}validateEmit(t,...i){const e=this.events[t];if(!e)return!1;for(const t of e)if(!t(...i))return!1;return!0}seriesEmit(t,...i){const e=this.events[t];if(!e)return;let s;for(let t=0;t<e.length;t++)s=0===t?e[t](...i):e[t](s);return s}};function n(t,...i){const e=[];for(const s of i)if("string"==typeof s){const i=t.querySelectorAll(s);e.push(...i)}else s instanceof Element&&e.push(s);return e}function o(t,...i){for(const e of i)Array.isArray(e)?o(t,...e):t.append(e)}class a extends Array{constructor(...t){super(...t)}get(...t){let i=new a;if(this.length)for(const e of this)i.push(...n(e,...t));else i.push(...n(document,...t));return i}create(...t){let i=new a;for(const e of t)if("string"==typeof e)i.push(document.createElement(e));else if(e instanceof Object){const t=document.createElement(e.tagName||"div");e.content&&(Array.isArray(e.content)?o(t,...e.content):o(t,e.content)),i.push(t)}return i}empty(){for(const t of this)t.innerHTML="";return this}append(...t){for(const i of this)o(i,...t);return this}addClass(...t){for(const i of this)i.classList.add(...t);return this}removeClass(...t){for(const i of this)i.classList.remove(...t);return this}toggleClass(t){for(const i of this)i.classList.toggle(t);return this}hasClass(t,i=!1){if(i){let i=0;for(const e of this)e.classList.contains(t)&&i++;return i===this.length}for(const i of this)if(i.classList.contains(t))return!0;return!1}addEventListener(t,i,e){for(const s of this)s.addEventListener(t,i,e);return this}removeEventListener(t,i,e){for(const s of this)s.removeEventListener(t,i,e);return this}css(t){for(const i of this)for(const e in t)i.style[e]=t[e];return this}attr(t){for(const i of this)for(const e in t)i.setAttribute(e,t[e]);return this}nextTick(...t){const i=t,e=t.shift();return e&&setTimeout((()=>{e(),i.length&&this.nextTick(...i)}),0),this}}const r=function(...t){return t instanceof a?t:new a(...n(document,...t))};function c(...t){const i=Object(t[0]);for(let e=1;e<t.length;e+=1){const s=t[e];if(null!=s){const t=Object.keys(Object(s));for(let e=0,n=t.length;e<n;e+=1){const n=t[e],o=Object.getOwnPropertyDescriptor(s,n);void 0!==o&&o.enumerable&&(h(i[n])&&h(s[n])?c(i[n],s[n]):!h(i[n])&&h(s[n])?(i[n]={},c(i[n],s[n])):i[n]=s[n])}}}return i}function h(t){return"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object}const f={animationstart:"__mutationStartListener",animationcancel:"__mutationCancelListener",animationend:"__mutationEndListener",animationiteration:"__mutationIterationListener",transitionstart:"__mutationStartListener",transitioncancel:"__mutationCancelListener",transitionend:"__mutationEndListener",transitionrun:"__mutationRunListener"},l=Object.keys(f);const u=class{constructor(t){this.emitter=new s(t.on),Array.isArray(t.el)?this.els=r(...t.el):this.els=r(t.el),t.allow?this.allow=(Array.isArray(t.allow)?t.allow:[t.allow]).filter((t=>l.includes(t))):t.disallow?this.allow=(Array.isArray(t.disallow)?t.disallow:[t.disallow]).filter((t=>l.includes(t))):this.allow=l;for(const t in f)this[f[t]]=this[f[t]].bind(this);for(const t of this.els)for(const i of this.allow)t.addEventListener(i,this[f[i]])}__mutationStartListener(t){this.emitter.emit("start",this,t)}__mutationCancelListener(t){this.emitter.emit("cancel",this,t)}__mutationEndListener(t){this.emitter.emit("end",this,t)}__mutationIterationListener(t){this.emitter.emit("iteration",this,t)}__mutationRunListener(t){this.emitter.emit("run",this,t)}addEvent(t){if(this.allow.includes(t))for(const i of this.els)i.addEventListener(t,this[f[t]])}removeEvent(t){if(this.allow.includes(t))for(const i of this.els)i.removeEventListener(t,this[f[t]])}on(t,i){this.emitter.subscribe(t,i)}};class m{constructor(t){this.pending=!1,this.config=t,this.emitter=new s({...this.config.on});const i=this.config.tabs.config;!1!==i.mutation&&(this.animation=new u({el:this.config.el,allow:i.mutation+"end",on:{end:this.__mutationEndCallback.bind(this)}}))}__mutationStartCallback(t){this.pending=!0,this.emitter.emit("__techMutationStart__",t),this.emitter.emit("mutationStart",t)}__mutationEndCallback(t){this.pending=!1,this.emitter.emit("__techMutationEnd__",t),this.config.tabs.currentPendingTab=void 0,this.emitter.emit("mutationEnd",t)}hide(t){const i=this.config.tabs.config.classes,e=this.config.tabs.config.mutation;if(!1===e)this.config.el.removeClass(i.activeTab);else if(t&&!1===t.animated)this.config.el.removeClass(i.activeTab),this.config.visible=!1;else{const s=i[e].leave;this.config.tabs.currentPendingTab=this,t&&t.after&&this.emitter.once("mutationEnd",(()=>{t.after()})),this.emitter.once("__techMutationEnd__",(()=>{this.config.el.removeClass(i.activeTab,s.active,s.from,s.to),this.config.visible=!1})),this.config.el.addClass(s.from,s.active),"animation"===e?this.config.el.addClass(s.to):this.config.el.nextTick((()=>this.config.el.addClass(s.to)))}}show(t){const i=this.config.tabs.config.classes,e=this.config.tabs.config.mutation;if(!1===e)this.config.el.addClass(i.activeTab);else if(t&&!1===t.animated)this.config.el.addClass(i.activeTab),this.config.visible=!0;else{const s=i[e].enter;this.config.tabs.currentPendingTab=this,t&&t.after&&this.emitter.once("mutationEnd",(()=>{t.after()})),this.emitter.once("__techMutationEnd__",(()=>{this.config.el.removeClass(s.active,s.from,s.to)})),this.config.el.addClass(s.from,s.active,i.activeTab),"animation"===e?this.config.el.addClass(s.to):this.config.el.nextTick((()=>this.config.el.addClass(s.to))),this.config.visible=!0}}}const d={el:null,classes:{navs:"tabs__navs",nav:"tabs__nav",tabs:"tabs__tabs",tab:"tabs__tab",activeTab:"tabs__tab--active",activeNav:"tabs__nav--active",animation:{leave:{from:"tabs__tab--animation-leave",active:"tabs__tab--animation-leave-active",to:"tabs__tab--animation-leave-to"},enter:{from:"tabs__tab--animation-enter",active:"tabs__tab--animation-enter-active",to:"tabs__tab--animation-enter-to"}},transition:{leave:{from:"tabs__tab--transition-leave",active:"tabs__tab--transition-leave-active",to:"tabs__tab--transition-leave-to"},enter:{from:"tabs__tab--transition-enter",active:"tabs__tab--transition-enter-active",to:"tabs__tab--transition-enter-to"}}},current:void 0,mutation:void 0};class b{constructor(t){this.config=t,this.config.el.addEventListener("click",this.clickListener.bind(this))}clickListener(t){this.config.tabs.changeTab(this.config.tab.config.idx)}disactivate(){this.config.el.removeClass(this.config.tabs.config.classes.activeNav)}activate(){this.config.el.addClass(this.config.tabs.config.classes.activeNav)}}const v=class{constructor(t){this.items=[],this.currentPendingTab=void 0,this.config=c({},d,t),this.emitter=new s({...this.config.on}),this.config.mutation=void 0===this.config.mutation?"animation":this.config.mutation,this.config.el=t.el instanceof a?this.config.el:r(t.el);const i=this.config.el.get("."+this.config.classes.nav),e=this.config.el.get("."+this.config.classes.tab);for(let t=0;t<e.length;t++){void 0===this.config.current&&(e[t].classList.contains(this.config.classes.activeTab)||i[t].classList.contains(this.config.classes.activeNav))&&(this.config.current=t);const s=new m({el:r(e[t]),tabs:this,idx:t}),n=new b({tabs:this,el:r(i[t]),tab:s});s.config.nav=n,this.items.push(s)}this.config.current||(this.config.current=0),this.fixClasses(),this.emitter.emit("init",this)}fixClasses(){for(const t of this.items)t.config.idx===this.config.current?(t.show({animated:!1}),t.config.nav?.activate()):(t.hide({animated:!1}),t.config.nav?.disactivate())}changeTab(t){if(!this.items[t])return;const i=this.config.current,e=t;if(i===e)return;const s=this.items[i],n=this.items[e];if(this.emitter.emit("beforeChange",this,i,e),!1===this.config.mutation)s.hide(),n.show();else if(this.currentPendingTab){const t=this.currentPendingTab;t.emitter.unsubscribe("mutationEnd"),t.emitter.once("mutationEnd",(()=>{t.config.visible?t.hide({after:()=>{n.show({after:()=>this.emitter.emit("afterChange",this,i,e)})}}):n.show({after:()=>this.emitter.emit("afterChange",this,i,e)})}))}else s.hide({after:()=>{n.show({after:()=>this.emitter.emit("afterChange",this,i,e)})}});s.config.nav?.disactivate(),n.config.nav?.activate(),this.config.current=e}}}},i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{}};return t[s](n,n.exports,e),n.exports}return e.d=(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e(192)})().default}));
//# sourceMappingURL=Tabs.min.js.map